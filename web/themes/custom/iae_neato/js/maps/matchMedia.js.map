{"version":3,"file":"../matchMedia.js","sources":["matchMedia.js"],"sourcesContent":["/* eslint-disable */\n/**\n * MatchMedia polyfill required by Formstone Media for IE 9 support\n */\n\n// Modernizr style test\nif (!(window.webkitMatchMedia || window.mozMatchMedia || window.oMatchMedia || window.msMatchMedia || window.matchMedia)) {\n  var root = document.getElementsByTagName( 'html' )[0];\n  root.className += ' no-matchmedia';\n}\n\n/*! matchMedia() polyfill - Test a CSS media type/query in JS. Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license */\nwindow.matchMedia || (window.matchMedia = function() {\n  \"use strict\";\n\n  // For browsers that support matchMedium api such as IE 9 and webkit\n  var styleMedia = (window.styleMedia || window.media);\n\n  // For those that don't support matchMedium\n  if (!styleMedia) {\n    var style       = document.createElement('style'),\n      script      = document.getElementsByTagName('script')[0],\n      info        = null;\n\n    style.type  = 'text/css';\n    style.id    = 'matchmediajs-test';\n\n    script.parentNode.insertBefore(style, script);\n\n    // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\n    info = ('getComputedStyle' in window) && window.getComputedStyle(style, null) || style.currentStyle;\n\n    styleMedia = {\n      matchMedium: function(media) {\n        var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\n\n        // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\n        if (style.styleSheet) {\n          style.styleSheet.cssText = text;\n        } else {\n          style.textContent = text;\n        }\n\n        // Test if media query is true or false\n        return info.width === '1px';\n      }\n    };\n  }\n\n  return function(media) {\n    return {\n      matches: styleMedia.matchMedium(media || 'all'),\n      media: media || 'all'\n    };\n  };\n}());\n\n/*! matchMedia() polyfill addListener/removeListener extension. Author & copyright (c) 2012: Scott Jehl. Dual MIT/BSD license */\n(function(){\n  // Bail out for browsers that have addListener support\n  if (window.matchMedia && window.matchMedia('all').addListener) {\n    return false;\n  }\n\n  var localMatchMedia = window.matchMedia,\n    hasMediaQueries = localMatchMedia('only all').matches,\n    isListening     = false,\n    timeoutID       = 0,    // setTimeout for debouncing 'handleChange'\n    queries         = [],   // Contains each 'mql' and associated 'listeners' if 'addListener' is used\n    handleChange    = function(evt) {\n      // Debounce\n      clearTimeout(timeoutID);\n\n      timeoutID = setTimeout(function() {\n        for (var i = 0, il = queries.length; i < il; i++) {\n          var mql         = queries[i].mql,\n            listeners   = queries[i].listeners || [],\n            matches     = localMatchMedia(mql.media).matches;\n\n          // Update mql.matches value and call listeners\n          // Fire listeners only if transitioning to or from matched state\n          if (matches !== mql.matches) {\n            mql.matches = matches;\n\n            for (var j = 0, jl = listeners.length; j < jl; j++) {\n              listeners[j].call(window, mql);\n            }\n          }\n        }\n      }, 30);\n    };\n\n  window.matchMedia = function(media) {\n    var mql         = localMatchMedia(media),\n      listeners   = [],\n      index       = 0;\n\n    mql.addListener = function(listener) {\n      // Changes would not occur to css media type so return now (Affects IE <= 8)\n      if (!hasMediaQueries) {\n        return;\n      }\n\n      // Set up 'resize' listener for browsers that support CSS3 media queries (Not for IE <= 8)\n      // There should only ever be 1 resize listener running for performance\n      if (!isListening) {\n        isListening = true;\n        window.addEventListener('resize', handleChange, true);\n      }\n\n      // Push object only if it has not been pushed already\n      if (index === 0) {\n        index = queries.push({\n          mql         : mql,\n          listeners   : listeners\n        });\n      }\n\n      listeners.push(listener);\n    };\n\n    mql.removeListener = function(listener) {\n      for (var i = 0, il = listeners.length; i < il; i++){\n        if (listeners[i] === listener){\n          listeners.splice(i, 1);\n        }\n      }\n    };\n\n    return mql;\n  };\n}());\n"],"names":["root","window","webkitMatchMedia","mozMatchMedia","oMatchMedia","msMatchMedia","matchMedia","document","getElementsByTagName","className","style","script","info","styleMedia","media","createElement","type","id","parentNode","insertBefore","getComputedStyle","currentStyle","matchMedium","text","styleSheet","cssText","textContent","width","matches","localMatchMedia","hasMediaQueries","isListening","timeoutID","queries","handleChange","addListener","evt","clearTimeout","setTimeout","i","il","length","mql","listeners","j","jl","call","index","listener","addEventListener","push","removeListener","splice"],"mappings":"AAMA,IACMA,KADAC,OAAOC,kBAAoBD,OAAOE,eAAiBF,OAAOG,aAAeH,OAAOI,cAAgBJ,OAAOK,cACvGN,KAAOO,SAASC,qBAAsB,QAAS,IAC9CC,WAAa,kBAIpBR,OAAOK,aAAeL,OAAOK,WAAa,wBAIxC,IAIMI,EACFC,EACAC,EANAC,EAAcZ,OAAOY,YAAcZ,OAAOa,MAiC9C,OA9BKD,IACCH,EAAcH,SAASQ,cAAc,SACvCJ,EAAcJ,SAASC,qBAAqB,UAAU,GACtDI,EAAc,KAEhBF,EAAMM,KAAQ,WACdN,EAAMO,GAAQ,oBAEdN,EAAOO,WAAWC,aAAaT,EAAOC,GAGtCC,EAAQ,qBAAsBX,QAAWA,OAAOmB,iBAAiBV,EAAO,OAASA,EAAMW,aAEvFR,EAAa,CACXS,YAAa,SAASR,GAChBS,EAAO,UAAYT,EAAQ,yCAU/B,OAPIJ,EAAMc,WACRd,EAAMc,WAAWC,QAAUF,EAE3Bb,EAAMgB,YAAcH,EAIA,QAAfX,EAAKe,SAKX,SAASb,GACd,MAAO,CACLc,QAASf,EAAWS,YAAYR,GAAS,OACzCA,MAAOA,GAAS,QAxCoB,IA8CzC,WAEC,IAIIe,EACFC,EACAC,EACAC,EACAC,EACAC,EATEjC,OAAOK,YAAcL,OAAOK,WAAW,OAAO6B,cAI9CN,EAAkB5B,OAAOK,WAC3BwB,EAAkBD,EAAgB,YAAYD,QAC9CG,GAAkB,EAClBC,EAAkB,EAClBC,EAAkB,GAClBC,EAAkB,SAASE,GAEzBC,aAAaL,GAEbA,EAAYM,WAAW,WACrB,IAAK,IAAIC,EAAI,EAAGC,EAAKP,EAAQQ,OAAQF,EAAIC,EAAID,IAAK,CAChD,IAAIG,EAAcT,EAAQM,GAAGG,IAC3BC,EAAcV,EAAQM,GAAGI,WAAa,GACtCf,EAAcC,EAAgBa,EAAI5B,OAAOc,QAI3C,GAAIA,IAAYc,EAAId,QAAS,CAC3Bc,EAAId,QAAUA,EAEd,IAAK,IAAIgB,EAAI,EAAGC,EAAKF,EAAUF,OAAQG,EAAIC,EAAID,IAC7CD,EAAUC,GAAGE,KAAK7C,OAAQyC,MAI/B,KAGPzC,OAAOK,WAAa,SAASQ,GAC3B,IAAI4B,EAAcb,EAAgBf,GAChC6B,EAAc,GACdI,EAAc,EAkChB,OAhCAL,EAAIP,YAAc,SAASa,GAEpBlB,IAMAC,IACHA,GAAc,EACd9B,OAAOgD,iBAAiB,SAAUf,GAAc,IAIpC,IAAVa,IACFA,EAAQd,EAAQiB,KAAK,CACnBR,IAAcA,EACdC,UAAcA,KAIlBA,EAAUO,KAAKF,KAGjBN,EAAIS,eAAiB,SAASH,GAC5B,IAAK,IAAIT,EAAI,EAAGC,EAAKG,EAAUF,OAAQF,EAAIC,EAAID,IACzCI,EAAUJ,KAAOS,GACnBL,EAAUS,OAAOb,EAAG,IAKnBG,IAvEX"}