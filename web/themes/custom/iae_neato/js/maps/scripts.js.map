{"version":3,"sources":["scripts.js"],"names":["Drupal","behaviors","moreSlider","attach","context","settings","$","once","finalHeight","$moreSlider","this","$moreSliderButton","siblings","fadeHeight","height","fullHeight","get","scrollHeight","maxDelay","removeClass","css","show","find","click","evt","preventDefault","hasClass","html","scrollTop","window","itemTop","offset","top","delay","animate","addClass","hide","maxHeight","duration","easing"],"mappings":"AAGAA,OAAOC,UAAUC,YACfC,OAAQ,SAASC,EAASC,GACxBC,EAAE,kBAAmBF,GAASG,KAAK,KAAM,WACvC,GAEIC,GAFAC,EAAcH,EAAEI,MAChBC,EAAoBF,EAAYG,SAAS,0BAEzCC,EAAaJ,EAAYK,SACzBC,EAAaN,EAAYO,IAAI,GAAGC,aAChCC,EAAW,GAGXH,GAAaF,EAAa,IAC5BJ,EAAYU,YAAY,eACxBV,EAAYW,IAAI,YAAaL,EAAa,QAE1CJ,EAAkBU,OAClBZ,EAAYa,KAAK,2BAA2BD,QAI9CV,EAAkBY,MAAM,SAAUC,GAEhC,GADAA,EAAIC,iBACAhB,EAAYiB,SAAS,WAAY,CACnClB,EAAcK,EAEdJ,EAAYU,YAAY,WAAWG,KAAK,2BAA2BD,KAAK,KAExEV,EAAkBgB,KAAK,uBAGvB,IAAIC,GAAYtB,EAAEuB,QAAQD,YACtBE,EAAUrB,EAAYsB,SAASC,IAAMnB,CACzC,IAAIiB,EAAUF,EAAY,EAAG,CAC3B,GAAIK,GAAQlB,EAAaF,CACzBP,GAAE,cAAc4B,SAAUN,UAAWE,EAAU,MAAQG,EAAQf,EAAYA,EAAWe,EAAO,cAG/FzB,GAAcC,EAAYO,IAAI,GAAGC,aAEjCR,EAAY0B,SAAS,WAAWb,KAAK,2BAA2Bc,KAAK,KAErEzB,EAAkBgB,KAAK,uBAGzB,IAAIM,GAAQlB,EAAaF,CACzBJ,GAAYyB,SAASG,UAAW7B,IAAe8B,SAAWL,EAAQf,EAAYA,EAAWe,EAAOM,OAAQ","file":"../scripts.js","sourcesContent":["/**\n * Implement div with max-height which hides content - more button slides down remaining content.\n */\nDrupal.behaviors.moreSlider = {\n  attach: function(context, settings) {\n    $('.az-more-slider', context).once('az', function() {\n      var $moreSlider = $(this);\n      var $moreSliderButton = $moreSlider.siblings('.az-more-slider-button');\n      var finalHeight;\n      var fadeHeight = $moreSlider.height();\n      var fullHeight = $moreSlider.get(0).scrollHeight;\n      var maxDelay = 1000;   // Maximum time to open/close slider\n\n      // Content is smaller than space and doesn't need hiding, hide overlay, hide more button\n      if (fullHeight < fadeHeight + 40) {\n        $moreSlider.removeClass('az-fade-out');\n        $moreSlider.css('maxHeight', fullHeight + 'px');\n      } else {\n        $moreSliderButton.show();\n        $moreSlider.find('.az-more-slider-overlay').show();\n      }\n\n      // User clicks 'more/less' link\n      $moreSliderButton.click(function (evt) {\n        evt.preventDefault();\n        if ($moreSlider.hasClass('az-open')) {\n          finalHeight = fadeHeight;\n          // Show fade overlay\n          $moreSlider.removeClass('az-open').find('.az-more-slider-overlay').show(100);\n          // Change the more/less link label\n          $moreSliderButton.html('&mdash; more &mdash;');\n\n          // If the top of moreSlider is above the screen scroll screen down to put top of item at top of screen\n          var scrollTop = $(window).scrollTop();\n          var itemTop = $moreSlider.offset().top - fadeHeight;\n          if (itemTop - scrollTop < 0) {\n            var delay = fullHeight - fadeHeight;\n            $('html, body').animate({ scrollTop: itemTop + 'px'}, (delay > maxDelay) ? maxDelay : delay, 'swing');\n          }\n        } else {                                // Open the slider\n          finalHeight = $moreSlider.get(0).scrollHeight;\n          // Hide fade overlay\n          $moreSlider.addClass('az-open').find('.az-more-slider-overlay').hide(100);\n          // Change the more/less link label\n          $moreSliderButton.html('&mdash; less &mdash;');\n        }\n\n        var delay = fullHeight - fadeHeight;\n        $moreSlider.animate({maxHeight: finalHeight}, {duration: (delay > maxDelay) ? maxDelay : delay, easing: 'swing'});\n      });\n    });\n  }\n};\n\n"]}