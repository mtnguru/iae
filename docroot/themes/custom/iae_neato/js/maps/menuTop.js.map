{"version":3,"file":"../menuTop.js","sources":["menuTop.js"],"sourcesContent":["/**\n * @file\n * Ethereal Matters - Top Navigation Menu bar\n *\n * @type {{attach: Drupal.behaviors.menu_top.attach}}\n */\n\n(function ($) {\n  'use strict';\n\n  Drupal.menuTopC = function () {\n    var $navMenu = $('#js-navigation-menu');\n    var $menuToggle = $('#js-mobile-menu');\n    var $moreLinks = $('.js-navigation-more');\n\n    function resizeWindow() {\n      if ($moreLinks.length > 0) {\n        var windowWidth = $(window).width();\n        var moreLeftSideToPageLeftSide = $moreLinks.offset().left;\n        var moreLeftSideToPageRightSide = windowWidth - moreLeftSideToPageLeftSide;\n\n        if (moreLeftSideToPageRightSide < 330) {\n          $(\".js-navigation-more .submenu .submenu\").removeClass(\"fly-out-right\");\n          $(\".js-navigation-more .submenu .submenu\").addClass(\"fly-out-left\");\n        }\n\n        if (moreLeftSideToPageRightSide > 330) {\n          $(\".js-navigation-more .submenu .submenu\").removeClass(\"fly-out-left\");\n          $(\".js-navigation-more .submenu .submenu\").addClass(\"fly-out-right\");\n        }\n      }\n    }\n\n    var init = function init() {\n      resizeWindow();\n\n      $(window).resize(function () {\n        resizeWindow();\n      });\n\n      $navMenu.removeClass(\"show\");\n      $menuToggle.unbind();\n\n/*    $moreLinks.hover(function() {\n        $(this).addClass('menu-open').find('.submenu').slideDown();\n      }, function() {\n        $(this).removeClass('menu-open').find('.submenu').slideUp();\n      }); */\n\n      $moreLinks.click(function() {\n        if ($(this).hasClass('menu-open')) {\n          $(this).removeClass('menu-open').find('.submenu').slideUp();\n        } else {\n          $moreLinks.each(function() {\n            if ($(this).hasClass('menu-open')) {\n              $(this).removeClass('menu-open').find('.submenu').slideUp();\n            }\n          });\n          $(this).addClass('menu-open').find('.submenu').slideDown();\n        }\n      });\n\n      $menuToggle.on(\"click\", function (e) {\n        e.preventDefault();\n        if ($navMenu.hasClass('nav-open')) {\n          $navMenu.slideUp().removeClass('nav-open');\n        } else {\n          $navMenu.slideDown().addClass('nav-open');\n        }\n      });\n    };\n\n    return {\n      init: init\n    };\n  }; // function Drupal.menuTopC - function wrapper to make variables local.\n\n\n  Drupal.behaviors.menuTop = {\n    attach: function (context, settings) {\n      $(context).find('#site-header').once('menuTopAttached').each(function () {\n        setTimeout(event => {\n          if (!Drupal.menuTop) {\n            Drupal.menuTop = Drupal.menuTopC();\n          }\n          Drupal.menuTop.init(this);\n        }, 1000);\n      })\n      /*\n      $(context).find('#dyslexia-button').once('dyslexia-attached').each(function () {\n        var dyslexia = localStorage.getItem('dyslexia_font');\n        if (dyslexia && dyslexia != 'undefined' && dyslexia == 'TRUE') {\n          $('body').addClass('dyslexia');\n          $(this).prop('checked', true);\n        }\n\n        $(this).click(function(ev) {\n          if ($(this).is(\":checked\")) {\n            $('body').addClass('dyslexia');\n            localStorage.setItem('dyslexia_font', 'TRUE');\n          } else {\n            $('body').removeClass('dyslexia');\n            localStorage.setItem('dyslexia_font', 'FALSE');\n          }\n        });\n      });\n      */\n    }\n  };\n\n}(jQuery));\n\n"],"names":["$","Drupal","menuTopC","$navMenu","$menuToggle","$moreLinks","resizeWindow","moreLeftSideToPageRightSide","length","window","width","offset","left","removeClass","addClass","init","resize","unbind","click","this","hasClass","find","slideUp","each","slideDown","on","e","preventDefault","behaviors","menuTop","attach","context","settings","once","setTimeout","event","jQuery"],"mappings":"CAOC,SAAUA,gBAGTC,OAAOC,SAAW,WAChB,IAAIC,EAAWH,EAAE,uBACbI,EAAcJ,EAAE,mBAChBK,EAAaL,EAAE,uBAEnB,SAASM,IACP,IAGMC,EAHkB,EAApBF,EAAWG,UAGTD,EAFcP,EAAES,QAAQC,QACKL,EAAWM,SAASC,MAGnB,MAChCZ,EAAE,yCAAyCa,YAAY,iBACvDb,EAAE,yCAAyCc,SAAS,iBAGpB,IAA9BP,IACFP,EAAE,yCAAyCa,YAAY,gBACvDb,EAAE,yCAAyCc,SAAS,mBA4C1D,MAAO,CACLC,KAxCS,WACTT,IAEAN,EAAES,QAAQO,OAAO,WACfV,MAGFH,EAASU,YAAY,QACrBT,EAAYa,SAQZZ,EAAWa,MAAM,WACXlB,EAAEmB,MAAMC,SAAS,aACnBpB,EAAEmB,MAAMN,YAAY,aAAaQ,KAAK,YAAYC,WAElDjB,EAAWkB,KAAK,WACVvB,EAAEmB,MAAMC,SAAS,cACnBpB,EAAEmB,MAAMN,YAAY,aAAaQ,KAAK,YAAYC,YAGtDtB,EAAEmB,MAAML,SAAS,aAAaO,KAAK,YAAYG,eAInDpB,EAAYqB,GAAG,QAAS,SAAUC,GAChCA,EAAEC,iBACExB,EAASiB,SAAS,YACpBjB,EAASmB,UAAUT,YAAY,YAE/BV,EAASqB,YAAYV,SAAS,iBAWtCb,OAAO2B,UAAUC,QAAU,CACzBC,OAAQ,SAAUC,EAASC,GACzBhC,EAAE+B,GAASV,KAAK,gBAAgBY,KAAK,mBAAmBV,KAAK,WAC3DW,WAAWC,IACJlC,OAAO4B,UACV5B,OAAO4B,QAAU5B,OAAOC,YAE1BD,OAAO4B,QAAQd,KAAKI,OACnB,SA/EX,CAuGEiB"}